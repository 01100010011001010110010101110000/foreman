<% form_for @hostgroup do |f| %>
  <%= f.error_messages %>
  <p>
  <%= f.label :name %><br />
  <%= f.text_field :name %>
  </p>

  <table>
    <th>Included services</th>
    <th colspan=3>Available Services</th>
    <tr>
      <td id=hostclasses>
        <div id=selected_classes>
          <%# hidden field to ensure that classes gets removed if none are defined -%>
          <%= hidden_field_tag "hostgroup[puppetclass_ids][]" %>
          <%= render :partial => "puppetclasses/selectedClasses",
            :collection => @hostgroup.puppetclasses,:as => :klass,
            :locals => { :type => Hostgroup } %>
        </div>
      </td>

      <%= render :partial => "puppetclasses/classes", :locals => {:puppetclasses => Puppetclass.all - @hostgroup.puppetclasses, :type => Hostgroup } %>
    </tr>
  </table>

  <%= render :partial => "common_parameters/parameters", :locals => { :f => f, :type => :group_parameters } %>

  <p><%= f.submit "Submit" %></p>
<% end %>
